<div class="container">
    <ng-container *ngIf="showQrCode; else showCreateUrlForm;">
        <div class="mt-8">
            <div class="review">
                <div class="review-body">
                    <div class="row">
                        <div class="col-12 col-md">

                            <!-- Header -->
                            <div class="row mb-1">
                                <div class="col">

                                    <!-- Preheading -->
                                    <a class="text-muted" [routerLink]="null"><i class="fe fe-link-2 mr-2"></i>URL</a>

                                </div>
                                <div class="col-auto">


                                    <a class="font-size-sm text-reset ml-2" [routerLink]="null">
                                        <i class="fe fe-star mr-2"></i>
                                    </a>

                                </div>
                            </div>


                            <div class="text-center">
                                <ngx-qrcode *ngIf="valueForQrCode" [elementType]="ELEMENT_TYPE"
                                    [errorCorrectionLevel]="CORRECTION_LEVEL" [value]="valueForQrCode"
                                    cssClass="coolQRCode">
                                </ngx-qrcode>
                            </div>

                            <!-- Footer -->
                            <div class="row align-items-center">
                                <div class="col-auto mr-auto">

                                    <!-- Rate -->
                                    <div class="rate">
                                        <a class="rate-item" [routerLink]="null" role="button"
                                            title="Edit Details on QR Code" aria-label="Edit Details on QR Code"
                                            (click)="showHiddenCreateUrlQrCodeForm()">
                                            <i class="fe fe-edit-3 mr-2"></i>
                                        </a>
                                        <a class="rate-item" [routerLink]="null" role="button">
                                            <i class="fe fe-trash"></i>
                                        </a>
                                        <a class="rate-item" [routerLink]="null" role="button">
                                            <i class="fe fe-share-2"></i>
                                        </a>
                                    </div>

                                </div>

                                <div class="col-auto">

                                    <!-- Button -->
                                    <a class="btn btn-xs btn-outline-border" [routerLink]="null"
                                        (click)="downloadQRCode()" title="Download QR Code"
                                        aria-label="Download QR Code">
                                        <i class="fe fe-save mr-2"></i>Save
                                    </a>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </ng-container>

    <ng-template #showCreateUrlForm>
        <section class="pt-9 pb-11">
            <form *ngIf="websiteAddressFormGroup" [formGroup]="websiteAddressFormGroup" (ngSubmit)="submitForm()">
                <div class="row">
                    <div class="col-12 mb-6 text-center">

                        <!-- Text -->
                        <p class="mb-1 font-size-xs">
                            <i class="fe fe-link-2 mr-2"></i>URL
                        </p>

                    </div>
                    <div class="col-12">

                        <!-- Name -->
                        <div class="form-group">
                            <label class="sr-only" for="websiteAddressFormGroup__url">Website Address:</label>
                            <input class="form-control form-control-sm" id="websiteAddressFormGroup__url" type="url"
                                formControlName="url" placeholder="Website Address *"
                                [class.is-invalid]="websiteAddressFormGroup?.get('url')?.invalid && (isSubmitted || websiteAddressFormGroup?.get('url')?.touched)">
                            <div class="invalid-feedback"
                                *ngIf="this.websiteAddressFormGroup?.get('url')?.invalid && (isSubmitted || this.websiteAddressFormGroup?.get('url')?.touched)">
                                <ng-container
                                    *ngIf="websiteAddressFormGroup?.get('url')?.hasError('required'); else showOtherErrors;">
                                    Please provide a valid URL.
                                </ng-container>
                                <ng-template #showOtherErrors>
                                    <ng-container *ngIf="websiteAddressFormGroup?.get('url')?.hasError('maxlength')">
                                        Website URL should not exceed 2083 chars long.
                                    </ng-container>
                                    <ng-container *ngIf="websiteAddressFormGroup?.get('url')?.hasError('invalidUrl')">
                                        Are you sure you entered the URL properly?
                                    </ng-container>
                                </ng-template>
                            </div>
                        </div>

                    </div>

                    <div class="col-12 text-center">
                        <!-- Button -->
                        <button class="btn btn-outline-dark" type="submit">
                            Create QR Code
                        </button>

                    </div>
                </div>
            </form>
        </section>
    </ng-template>
</div>